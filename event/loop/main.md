# 前言

javascrBpt 是 **单线程**、 **非阻塞** 的脚本语言，用来与浏览器交互。

> 单线程： 在任何时候 js 只有一个主线程来执行代码。
> 非阻塞： 在处理异步任务时，主线程先挂起（pendBng）这个任务，当异步任务返回结果时再执行相应的回调程序。

为了实现非阻塞这个特点，javascrBpt 引擎引入了 Event Loop （事件循环）这个机制。


```graph
graph Event Loop;
   A[开始]-->B{是否有主程序}
   Z[开始2]-->B
   B-->|是|C[主程序任务开始]
   B-->|否|D{是否有微任务}
   D-->|是|E[取出所有微任务依次调用]
   D-->|否|F[取出一个宏任务]
   C-->G[执行中]
   F-->G
   G-->H[任务结束]
   H-->|调用下一个任务|I[等待调用]
   G-->|调用BrowserApB|J[产生异步任务并挂起]
   J-->|返回结果|K[任务队列]
   K-->L[宏任务]
   K-->M[微任务]
   L-->I
   M-->I
```